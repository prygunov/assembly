<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Адресация памяти - </title>    <!-- Fonts -->
<link href="https://fonts.gstatic.com/" rel="dns-prefetch">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans+Extra+Condensed|Oswald|Rubik" rel="stylesheet">

    <!-- Styles -->
    <link href="../css/main.css" rel="stylesheet"></head>
<body><main>

    <div class='content-block'>

        <div class='post'>
            <div class='post-header'>
                <div class='post-title'>
                    <h1>Адресация памяти</h1>
                </div>

            </div>
            <div class='post-content'>
                <p>16-разрядные процессоры могут адресовать память размером в 1 Мб. Но, поскольку сформировать
                    20-разрядный адрес с помощью 16-разрядных регистров напрямую нельзя, используется сегментация
                    памяти. Вся память делится на перекрывающиеся сегменты по 64 Кб каждый. Базовый адрес каждого
                    сегмента памяти кратен 16 байтам. Для формирования полного адреса используется адрес сегмента,
                    хранящийся в сегментном регистре и смещение внутри сегмента.</p>                <p>Общая схема формирования адреса показана на рисунке ниже.</p>

                <p><img alt="" src="../uploads/address.gif" style="width: 157px; height: 66px;"/></p>

                <p>Все процессоры Intel имеют эту схему адресации к памяти. Исполнительный адрес для них задается в
                    виде</p>

                <pre>
&lt;сегмент&gt;:&lt;смещение&gt;</pre>

                <p>Для указания сегмента адреса используются сегментные регистры CS, DS, ES. И, начиная с 80386
                    процессора, в его архитектуру были добавлены еще два дополнительных сегментных регистра - FS и GS,
                    которые могут использоваться наравне с другими сегментными регистрами.</p>

                <p>В отличие от задания сегмента, смещение может задаваться несколькими способами, называемыми способами
                    адресации.</p>

                <h5><strong><i>Прямая адресация</i></strong></h5>

                <p>Прямая адресация предполагает использование в качестве смещения непосредственно заданное
                    значение.</p>

                <div class="sample">
<pre>
mov	ax,ds:[100h]
mov	cx,_d1
...
_d1	dw	3F0h
</pre>
                </div>

                <h5><strong><i>Косвенная адресация</i></strong></h5>

                <p>При использовании косвенной адресации, смещение получается из регистра общего назначения. Адресация
                    может производиться только через регистры BX, BP, SI и DI.</p>

                <div class="sample">
<pre>
mov	ax,[bx]
mov	cx,[si]
</pre>
                </div>

                <h5><strong><i>Адресация по базе со сдвигом</i></strong></h5>

                <p>При использовании адресации по базе со сдвигом, смещение вычисляется как сумма значения регистра и
                    непосредственно заданного значения.</p>

                <div class="sample">
<pre>
mov	ax,[si+400h]
mov	cx,[bx-80h]
</pre>
                </div>

                <h5><strong><i>Адресация по базе с индексированием</i></strong></h5>

                <p>При использовании адресации по базе со сдвигом, смещение вычисляется как сумма значений двух
                    регистров и непосредственно заданного значения (если оно задано).</p>

                <div class="sample">
<pre>
mov	ax,[bx+si-3F0h]
mov	cx,[bp+bx]
</pre>
                </div>

                <h5><strong><i>32-разрядная адресация</i></strong></h5>

                <p>В 32-разрядных процессорах Intel добавилась новая схема адресации с использованием всех 32-разрядных
                    регистров общего назначения. В этой схеме адресации смещение вычисляется по следующей формуле:</p>

                <pre>
<b>&lt;Смещение&gt; = &lt;База&gt; + ( &lt;Индекс&gt; * &lt;Масштаб&gt; ) + &lt;Значение&gt;</b></pre>

                <p>Полная схема 32-разрядной адресации представлена на рисунке:<br/>
                    <img alt="" src="../uploads/addr.gif" style="width: 300px; height: 164px;"/></p>

                <div class="sample">
<pre>
mov	cx,[eax+esi]
mov	eax,[esi*4]
mov	di,[ebx+esi*4-100h]
</pre>

                    <p>&nbsp;</p>

                    <p>&nbsp;</p>

                    <p>&nbsp;</p>
                </div>
            </div>

            <hr>        </div>
    </div>

</main>

</div>
<div id="upbutton"></div>

</body>
</html>
